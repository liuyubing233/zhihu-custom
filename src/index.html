<div style="display: none" class="ctz-preview" id="CTZ_PREVIEW_IMAGE">
  <div><img src="" /></div>
</div>

<div style="display: none" class="ctz-preview" id="CTZ_PREVIEW_VIDEO">
  <div><video src="" autoplay loop></video></div>
</div>

<iframe class="ctz-pdf-box-content" style="display: none"></iframe>

<div id="CTZ_MESSAGE_BOX"></div>

<div id="CTZ_OPEN_CLOSE" data-close="1">
  <div class="gear">
    <div class="gear_line_1"></div>
    <div class="gear_line_2"></div>
    <div class="gear_line_3"></div>
    <div class="gear_line_4"></div>
  </div>
</div>
<div id="CTZ_DIALOG" style="display: none">
  <div id="CTZ_DIALOG_CONTENT">
    <!-- 左侧菜单 -->
    <div id="CTZ_DIALOG_LEFT">
      <div id="CTZ_LEFT_BUTTONS">
        <button class="ctz-button" name="dialogClose">✕</button>
        <button class="ctz-button" name="dialogBig">+</button>
        <div class="ctz-version"></div>
      </div>
      <div id="CTZ_DIALOG_MENU">
        <div data-href="#CTZ_BASIS">通用</div>
        <div data-href="#CTZ_HIGH_PERFORMANCE">高性能</div>
        <div data-href="#CTZ_POSITION">悬浮模块</div>
        <div data-href="#CTZ_HIDDEN">隐藏模块</div>
        <div data-href="#CTZ_FILTER" data-commit="更改后请重新刷新页面">屏蔽内容</div>
        <div data-href="#CTZ_BLOCK_WORDS" data-commit="更改后请重新刷新页面, 点击屏蔽词删除">屏蔽词</div>
        <div data-href="#CTZ_BLACKLIST" data-commit="更改后请重新刷新页面, 需开启接口拦截">黑名单</div>
        <div data-href="#CTZ_VERSION">页面尺寸</div>
        <div data-href="#CTZ_THEME">颜色</div>
        <div data-href="#CTZ_CONFIG">配置操作</div>
        <div data-href="#CTZ_HISTORY_LIST" data-commit="最多缓存500条, 包含已过滤项">推荐列表缓存</div>
        <div data-href="#CTZ_HISTORY_VIEW" data-commit="最多缓存500条">浏览历史记录</div>
        <div data-href="#CTZ_DEFAULT" data-commit="修改器自带功能, 不需要额外开启">默认功能</div>
      </div>
    </div>

    <div id="CTZ_DIALOG_RIGHT">
      <div id="CTZ_DIALOG_RIGHT_TITLE"></div>

      <div id="CTZ_DIALOG_MAIN">
        <!-- 基础设置 -->
        <div id="CTZ_BASIS" style="display: none">
          <div id="CTZ_BASIS_DEFAULT">
            <div class="ctz-form-box">
              <div class="ctz-form-box-item">
                <div>知乎搜索</div>
                <div>
                  <input type="text" name="searchInZhihu" style="width: 278px" placeholder="回车搜索" />
                </div>
              </div>
              <div class="ctz-form-box-item">
                <div></div>
                <div class="ctz-to-zhihu">
                  <a href="https://www.zhihu.com" target="_self" class="ctz-button" style="margin-right: 8px">返回知乎主页</a>
                </div>
              </div>
              <div class="ctz-form-box-item">
                <div></div>
                <div class="ctz-default-bottom">
                  <a href="https://github.com/liuyubing233/zhihu-custom" target="_blank" class="ctz-button">Github⭐</a>
                  <a
                    href="https://greasyfork.org/zh-CN/scripts/423404-%E7%9F%A5%E4%B9%8E%E6%A0%B7%E5%BC%8F%E4%BF%AE%E6%94%B9%E5%99%A8"
                    target="_blank"
                    class="ctz-button"
                    style="width: 92px"
                  >
                    GreasyFork
                  </a>
                  <a href="https://github.com/liuyubing233/zhihu-custom/blob/main/README.md" target="_blank" class="ctz-button">修改器介绍</a>
                  <a href="https://github.com/liuyubing233/zhihu-custom/blob/main/CHANGELOG.md" target="_blank" class="ctz-button">更新日志</a>
                </div>
              </div>
            </div>

            <div class="ctz-form-box">
              <div class="ctz-form-box-item">
                <div id="CTZ_FETCH_STATUS">状态获取中...</div>
                <div>
                  <input id="CTZ_CHANGE_FETCH" class="ctz-i ctz-switch" name="fetchInterceptStatus" type="checkbox" value="on" />
                </div>
              </div>
            </div>

            <div class="ctz-form-box">
              <div class="ctz-form-box-item">
                <div>
                  快捷键打开修改器
                  <span class="key-shadow">></span>
                  (<span class="key-shadow">Shift</span>+<span class="key-shadow">.</span>)
                </div>
                <div>
                  <input class="ctz-i ctz-switch" name="hotKey" type="checkbox" value="on" />
                </div>
              </div>
            </div>

            <div class="ctz-form-box">
              <div class="ctz-form-box-item">
                <div>去除浏览器标签上XX条私信/未读消息的提示</div>
                <div><input class="ctz-i ctz-switch" name="globalTitleRemoveMessage" type="checkbox" value="on" /></div>
              </div>
              <div class="ctz-form-box-item">
                <div>网页标签名称</div>
                <div>
                  <input type="text" name="globalTitle" style="width: 278px" />
                  <button class="ctz-button" name="buttonConfirmTitle" style="margin: 0 8px">确认</button>
                  <button class="ctz-button" name="buttonResetTitle">还原</button>
                </div>
              </div>
              <div class="ctz-form-box-item">
                <div>网页标签图标</div>
                <div id="CTZ_TITLE_ICO"></div>
              </div>
            </div>
          </div>

          <div class="ctz-title">
            显示修改
            <span class="ctz-commit" style="color: red">修改后刷新页面生效</span>
          </div>

          <div id="CTZ_BASIC_SHOW_SELECT" class="ctz-form-box"></div>
          <div id="CTZ_BASIS_SHOW_CONTENT"></div>
        </div>

        <!-- 悬浮模块 -->
        <div id="CTZ_POSITION" style="display: none">
          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div>修改器弹出图标 ⚙︎ 定位方式</div>
              <div>
                <div class="ctz-select" name="suspensionOpen"></div>
                <!-- <select class="ctz-select" name="suspensionOpen"></select> -->
              </div>
            </div>
          </div>

          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div>回答内容「收起」按钮悬浮</div>
              <div><input class="ctz-i ctz-switch" name="suspensionPickUp" type="checkbox" value="on" /></div>
            </div>
            <div class="ctz-form-box-item">
              <div>悬浮收起按钮位置，数字越大离右侧越远：</div>
              <div><input name="suspensionPickupRight" type="number" class="ctz-i-change" style="width: 80px" /></div>
            </div>
          </div>

          <div class="ctz-title">
            信息模块悬浮
            <span>拖动悬浮模块定位位置，鼠标放置显示点击 ☒ 按钮即可拖动</span>
          </div>
          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div>首页列表切换</div>
              <div><input class="ctz-i ctz-switch" name="suspensionHomeTab" type="checkbox" value="on" /></div>
            </div>
            <div class="ctz-form-box-item">
              <div>顶部发现模块</div>
              <div><input class="ctz-i ctz-switch" name="suspensionFind" type="checkbox" value="on" /></div>
            </div>
            <div class="ctz-form-box-item">
              <div>个人中心模块</div>
              <div><input class="ctz-i ctz-switch" name="suspensionUser" type="checkbox" value="on" /></div>
            </div>
            <div class="ctz-form-box-item">
              <div>搜索栏模块</div>
              <div><input class="ctz-i ctz-switch" name="suspensionSearch" type="checkbox" value="on" /></div>
            </div>
          </div>
        </div>

        <!-- 高性能模式 -->
        <div id="CTZ_HIGH_PERFORMANCE" style="display: none"></div>

        <!-- 隐藏模块 -->
        <div id="CTZ_HIDDEN" style="display: none"></div>

        <!-- 屏蔽内容 -->
        <div id="CTZ_FILTER" style="display: none">
          <div id="CTZ_FILTER_COMMEN">
            <div class="ctz-title">
              通用屏蔽
              <span>在首页列表和回答中均生效</span>
            </div>
            <div class="ctz-form-box">
              <div class="ctz-form-box-item ctz-fetch-intercept">
                <div>
                  屏蔽选自盐选专栏的内容
                  <span class="ctz-need-fetch">（接口拦截已关闭，此功能无法使用）</span>
                </div>
                <div><input class="ctz-i ctz-switch" name="removeFromYanxuan" type="checkbox" value="on" /></div>
              </div>
            </div>
          </div>

          <div id="CTZ_FILTER_LIST">
            <div class="ctz-title">
              列表内容屏蔽
              <span>此部分设置只在首页列表生效</span>
            </div>
            <div id="CTZ_FILTER_LIST_CONTENT"></div>

            <div class="ctz-form-box">
              <div class="ctz-form-box-item">
                <div>列表低赞内容屏蔽</div>
                <div><input class="ctz-i ctz-switch" name="removeLessVote" type="checkbox" value="on" /></div>
              </div>
              <div class="ctz-form-box-item">
                <div>关注、推荐、搜索屏蔽小于的点赞数量</div>
                <div><input name="lessVoteNumber" class="ctz-i-change" type="number" style="width: 80px" /></div>
              </div>
            </div>
          </div>

          <div id="CTZ_FILTER_ANSWER">
            <div class="ctz-title">
              回答内容屏蔽
              <span>此部分设置只在回答页面生效</span>
            </div>
            <div class="ctz-form-box">
              <div class="ctz-form-box-item">
                <div>屏蔽匿名用户回答</div>
                <div><input class="ctz-i ctz-switch" name="removeAnonymousAnswer" type="checkbox" value="on" /></div>
              </div>
              <div class="ctz-form-box-item">
                <div>屏蔽带有虚构创作标签的回答</div>
                <div><input class="ctz-i ctz-switch" name="removeUnrealAnswer" type="checkbox" value="on" /></div>
              </div>
              <div class="ctz-form-box-item">
                <div>屏蔽选自电子书标签的回答</div>
                <div><input class="ctz-i ctz-switch" name="removeFromEBook" type="checkbox" value="on" /></div>
              </div>
            </div>

            <div class="ctz-form-box">
              <div class="ctz-form-box-item">
                <div>回答页面低赞回答屏蔽</div>
                <div><input class="ctz-i ctz-switch" name="removeLessVoteDetail" type="checkbox" value="on" /></div>
              </div>
              <div class="ctz-form-box-item">
                <div>问题回答屏蔽小于的点赞数量</div>
                <div><input name="lessVoteNumberDetail" class="ctz-i-change" type="number" style="width: 80px" /></div>
              </div>
            </div>
          </div>
        </div>

        <!-- 屏蔽词 -->
        <div id="CTZ_BLOCK_WORDS" style="display: none">
          <!-- 标题屏蔽词 -->
          <div class="ctz-title">
            标题屏蔽词
            <span>匹配位置：列表标题</span>
          </div>
          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div></div>
              <div><input name="inputBlockedWord" type="text" placeholder="输入后回车添加（不区分大小写）" style="width: 256px" /></div>
            </div>
            <div class="ctz-form-box-item" id="CTZ_FILTER_BLOCK_WORDS">
              <div class="ctz-block-words-content"></div>
            </div>
          </div>

          <!-- 内容屏蔽词 -->
          <div class="ctz-title">
            内容屏蔽词
            <span>匹配位置：列表、回答页内容</span>
          </div>

          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div></div>
              <div><input name="inputBlockedWordAnswer" type="text" placeholder="输入后回车添加（不区分大小写）" style="width: 256px" /></div>
            </div>
            <div class="ctz-form-box-item" id="CTZ_FILTER_BLOCK_WORDS_CONTENT">
              <div class="ctz-block-words-content"></div>
            </div>
          </div>
        </div>

        <!-- 黑名单设置 -->
        <div id="CTZ_BLACKLIST" class="ctz-fetch-intercept" style="display: none">
          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div>黑名单部分配置导出和导入</div>
              <div>
                <button class="ctz-button" name="exportBlackConfig" style="margin-right: 8px">配置导出</button>
                <div id="IMPORT_BLACK">
                  <input type="file" class="ctz-input-import-black" accept=".txt" />
                  <button class="ctz-button" name="importBlackConfig">配置导入并合并</button>
                </div>
              </div>
            </div>
          </div>

          <!-- 黑名单通用设置 -->
          <div class="ctz-title">通用设置</div>
          <div id="CTZ_BLACKLIST_COMMON"></div>

          <!-- 黑名单标签 -->
          <div class="ctz-title">黑名单标签</div>
          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div>屏蔽用户后弹出标签选择</div>
              <div><input class="ctz-i ctz-switch" name="openTagChooseAfterBlockedUser" type="checkbox" value="on" /></div>
            </div>
            <div class="ctz-form-box-item">
              <div></div>
              <div>
                <input name="inputBlockedUsersTag" type="text" placeholder="输入后回车添加（不区分大小写）" style="width: 256px" />
              </div>
            </div>
            <div class="ctz-form-box-item">
              <div id="CTZ_BLOCKED_USERS_TAGS"></div>
            </div>
          </div>

          <!-- 黑名单列表 -->
          <div class="ctz-title">黑名单列表</div>
          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div></div>
              <div><button name="syncBlack" class="ctz-button">同步黑名单</button></div>
            </div>
            <div class="ctz-form-box-item">
              <div id="CTZ_BLOCKED_NUMBER"></div>
              <div><button name="syncBlackRemove" class="ctz-button">清空黑名单列表</button></div>
            </div>
            <div class="ctz-form-box-item">
              <div id="CTA_BLOCKED_USERS"></div>
            </div>
          </div>
        </div>

        <!-- 推荐列表缓存 -->
        <div id="CTZ_HISTORY_LIST" style="display: none">
          <div style="margin-bottom: 12px; text-align: right">
            <button class="ctz-button" name="button_history_clear" data-id="list">清空列表缓存</button>
          </div>
          <div class="ctz-set-content"></div>
        </div>

        <!-- 浏览历史记录 -->
        <div id="CTZ_HISTORY_VIEW" style="display: none">
          <div style="margin-bottom: 12px; text-align: right">
            <button class="ctz-button" name="button_history_clear" data-id="view">清空历史记录</button>
          </div>
          <div class="ctz-set-content"></div>
        </div>

        <!-- 主题 -->
        <div id="CTZ_THEME" style="display: none">
          <div class="ctz-set-background ctz-form-box"></div>

          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div>修改文字颜色</div>
              <div>
                <input type="text" class="ctz-i-change" name="colorText1" style="width: 148px; margin-right: 8px" placeholder="例如：#f7f9f9" />
                <button class="ctz-button ctz-reset-font-size" name="reset-colorText1">↺</button>
              </div>
            </div>
          </div>

          <!-- 关注列表原创内容 -->
          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div>关注列表高亮原创内容</div>
              <div>
                <div><input class="ctz-i ctz-switch" name="highlightOriginal" type="checkbox" value="on" /></div>
              </div>
            </div>
            <div class="ctz-form-box-item">
              <div>关注列表高亮原创内容背景色</div>
              <div>
                <div>
                  <input type="text" class="ctz-i-change" name="backgroundHighlightOriginal" style="width: 148px; margin-right: 8px" placeholder="例如：#fbf8f1" />
                  <button class="ctz-button ctz-reset-font-size" name="reset-backgroundHighlightOriginal">↺</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 页面尺寸 -->
        <div id="CTZ_VERSION" style="display: none">
          <!-- 页面内容宽度 -->
          <div class="ctz-title">页面内容宽度</div>
          <div id="CTZ_VERSION_RANGE_ZHIHU" class="ctz-form-box"></div>
          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div>评论弹窗匹配页面宽度</div>
              <div><input class="ctz-i ctz-switch" name="commitModalSizeSameVersion" type="checkbox" value="on" /></div>
            </div>
          </div>

          <!-- 页面字体大小 -->
          <div class="ctz-title">字体大小</div>
          <div id="CTZ_FONT_SIZE_IN_ZHIHU" class="ctz-form-box"></div>

          <!-- 图片尺寸 -->
          <div class="ctz-title">图片尺寸</div>
          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div>回答和文章图片尺寸</div>
              <div>
                <div class="ctz-select" name="zoomImageType"></div>
                <!-- <select class="ctz-select" name="zoomImageType"></select> -->
              </div>
            </div>
            <div id="CTZ_IMAGE_SIZE_CUSTOM" class="ctz-form-box-item" style="display: none"></div>
          </div>

          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div>
                图片最大高度限制
                <span class="ctz-tooltip">
                  <span>?</span>
                  <span>开启高度限制后，图片将按照高度等比例缩放，宽度限制将失效</span>
                </span>
              </div>
              <div>
                <div class="ctz-select" name="zoomImageHeight"></div>
                <!-- <select class="ctz-select" name="zoomImageHeight"></select> -->
              </div>
            </div>
            <div id="CTZ_IMAGE_HEIGHT_CUSTOM" class="ctz-form-box-item" style="display: none"></div>
          </div>

          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div>弹窗打开动图</div>
              <div><input class="ctz-i ctz-switch" name="showGIFinDialog" type="checkbox" value="on" /></div>
            </div>
            <div class="ctz-form-box-item">
              <div>评论图片预览不超出页面</div>
              <div><input class="ctz-i ctz-switch" name="commentImageFullPage" type="checkbox" value="on" /></div>
            </div>
          </div>

          <div class="ctz-title">视频尺寸</div>

          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div>列表视频回答尺寸</div>
              <div>
                <div class="ctz-select" name="zoomListVideoType"></div>
                <!-- <select class="ctz-select" name="zoomListVideoType"></select> -->
              </div>
            </div>
            <div id="CTZ_LIST_VIDEO_SIZE_CUSTOM" class="ctz-form-box-item" style="display: none"></div>
          </div>
        </div>

        <!-- 配置操作 -->
        <div id="CTZ_CONFIG" style="display: none">
          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div></div>
              <div class="ctz-config-buttons">
                <button class="ctz-button" name="useSimple">启用极简模式</button>
                <button class="ctz-button" name="configReset">恢复默认配置</button>
                <button class="ctz-button" name="configExport">配置导出</button>
                <!-- <button class="ctz-button" name="configRemove">清空配置</button> -->
                <div id="IMPORT_BY_FILE">
                  <input type="file" class="ctz-input-config-import" accept=".txt" />
                  <button class="ctz-button" name="configImport">配置导入</button>
                </div>
              </div>
            </div>
          </div>

          <div class="ctz-title">自定义样式</div>
          <div class="ctz-form-box">
            <div class="ctz-form-box-item">
              <div style="align-items: start; padding: 0; text-align: right">
                <textarea name="textStyleCustom" placeholder="内容为CSS"></textarea>
                <button class="ctz-button" name="styleCustom">确定</button>
              </div>
            </div>
          </div>
        </div>

        <!-- 默认功能 -->
        <div id="CTZ_DEFAULT" style="display: none">
          <div id="CTZ_DEFAULT_SELF" class="ctz-form-box"></div>

          <div class="ctz-zhihu-self" style="margin-top: 18px">
            <div class="ctz-zhihu-key">
              更加方便的浏览，按
              <span class="key-shadow">?</span>
              （<span class="key-shadow">Shift</span>+<span class="key-shadow">/</span>） 查看所有快捷键。
              <a href="https://www.zhihu.com/settings/preference" target="_blank">前往开启快捷键功能</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="CTZ_COVER"></div>

<!--
<span class="ctz-tooltip">
  <span>?</span>
  <span>hhhahahhahahahhahahahahhahaha</span>
</span>
-->

<!-- 漂浮在设置弹窗上的弹窗 -->
<div id="CTZ_EXTRA_OUTPUT_COVER" style="display: none"></div>
<div id="CTZ_EXTRA_OUTPUT_DIALOG" style="display: none" data-status="close">
  <!-- 选择黑名单标签 -->
  <div data-type="chooseBlockedUserTags">
    <div class="ctz-title">选择标签</div>
    <div class="ctz-choose-blocked-user-tags"></div>
    <div class="ctz-extra-footer">
      <button class="ctz-button" name="choose-blocked-user-tags-finish">完成</button>
    </div>
  </div>

  <!-- 修改标签名 -->
  <div data-type="changeBlockedUserTagName">
    <div class="ctz-title">修改标签名</div>
    <div class="ctz-change-blocked-user-tag-name">
      <input type="text" name="blocked-user-tag-name" />
    </div>
    <div class="ctz-extra-footer">
      <button class="ctz-button" name="confirm-change-blocked-user-tag-name">修改</button>
      <button class="ctz-button" name="cancel-change-blocked-user-tag-name">取消</button>
    </div>
  </div>
</div>
